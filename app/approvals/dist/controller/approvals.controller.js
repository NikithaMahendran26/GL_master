sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/Fragment","sap/ui/model/json/JSONModel","sap/m/MessageToast"],function(e,t,o,n){"use strict";return e.extend("approvals.controller.approvals",{onInit:function(){var e=new o;var t=[];e.setData(t)},onViewApproval:function(){if(!this._selectedGL){n.show("Please select a GL record");return}const e=new o(this._selectedGL);this.getView().setModel(e,"GLRequestModel");this._openDialog(false,"View GL Account")},_openDialog:async function(e,o){const n=this.getView().getModel("ui");n.setProperty("/editable",e);n.setProperty("/title",o);n.setProperty("/closeText",e?"Cancel":"Close");if(!this._glDialog){this._glDialog=await t.load({id:this.getView().getId(),name:"approvals.fragments.gldata",controller:this})}this._glDialog.open()},onSelectionChange:function(e){const t=e.getParameter("listItem");const o=!!t;this.byId("viewbtn").setEnabled(o);this.byId("changeLogBtn").setEnabled(o);if(o){this._selectedGL=t.getBindingContext("glModel").getObject()}},onCommentPost:function(e){const t=e.getParameter("value");if(!t)return;const o=sap.ushell?.Container?.getUser?.().getEmail()||"approver@dummy";this.getOwnerComponent().addApproverComment(t,o);e.getSource().setValue("")},onCloseGL:function(){this._glDialog.close()}})});
//# sourceMappingURL=approvals.controller.js.map