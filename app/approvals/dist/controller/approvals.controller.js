sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/Fragment","sap/ui/model/json/JSONModel","sap/m/MessageToast"],function(e,t,o,s){"use strict";return e.extend("approvals.controller.approvals",{onInit:function(){var e=new o;var t=[];e.setData(t)},onViewApproval:async function(){if(!this._selectedGL){s.show("Please select a GL record");return}this.getView().setModel(new o(this._selectedGL),"GLRequestModel");const e=this.getView().getModel("ui");e.setProperty("/editable",false);e.setProperty("/title","View GL Account");e.setProperty("/closeText","Close");if(!this._glDialog){this._glDialog=await t.load({id:this.getView().getId(),name:"approvals.fragments.gldata",controller:this});this.getView().addDependent(this._glDialog)}this._glDialog.open()},_openDialog:async function(e,o){const s=this.getView().getModel("ui");s.setProperty("/editable",e);s.setProperty("/title",o);s.setProperty("/closeText",e?"Cancel":"Close");if(!this._glDialog){this._glDialog=await t.load({id:this.getView().getId(),name:"approvals.fragments.gldata",controller:this})}this._glDialog.open()},onSelectionChange:function(e){const t=e.getParameter("listItem");const o=!!t;this.byId("viewbtn").setEnabled(o);this.byId("changeLogBtn").setEnabled(o);if(o){this._selectedGL=t.getBindingContext("glModel").getObject()}},onCommentPost:function(e){const t=e.getParameter("value");if(!t)return;const o=sap.ushell?.Container?.getUser?.().getEmail()||"approver@dummy";this.getOwnerComponent().addApproverComment(t,o);e.getSource().setValue("")},onCloseGL:function(){this._glDialog.close()}})});
//# sourceMappingURL=approvals.controller.js.map