sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/core/format/DateFormat","sap/m/MessageBox","sap/m/MessageToast","sap/ui/core/Fragment","sap/ui/model/FilterType","sap/ui/model/FilterOperator","sap/ui/model/Filter"],function(e,t,o,i,a,s,n,r,l){"use strict";return e.extend("glmaster.controller.Create",{onInit:function(){this.i18n=this.getOwnerComponent().getModel("i18n").getResourceBundle();var e=new t;var o=[];e.setData(o);this.getOwnerComponent().setModel(e,"commentModel");var i=this.getOwnerComponent().getRouter();i.getRoute("Create").attachPatternMatched(this.onEntry,this);this.logonLanguage=sap.ui.getCore().getConfiguration().getLanguage().toUpperCase();this._oBundle=this.getOwnerComponent().getModel("i18n").getResourceBundle();this.getView().setModel(new t({GLCollection:[]}),"glModel");this.getView().setModel(new t({messagesLength:0,messages:[]}),"GLMessageModel")},navBack:function(){var e=this;var t="Unsaved data will be lost. Do you want to continue?";i.warning(t,{title:"Confirm",styleClass:"",actions:["Yes",i.Action.CANCEL],emphasizedAction:"Yes",onClose:function(t){if(t==="Yes"){e.onNavBack()}}})},onNavBack:function(){this.getOwnerComponent().getRouter().navTo("RouteOverview")},onEntry:function(e){let t=e.getParameter("name");let o=e.getParameter("arguments");this.initModels(t);if(t==="Change"){let e=o.sServiceNumber;this.updateServiceRequestModel(e)}},initModels:function(e){this._oBundle=this.getView().getModel("i18n").getResourceBundle();this.createCommentModel();this.createWFModel();this.materialCollectionModelReset(e);this.getView().setModel(new t({}),"GLRequestModel");this.isDisplayonly=e},createCommentModel:function(){var e=new t;var o=[];e.setData(o);this.getOwnerComponent().setModel(e,"commentModel")},materialCollectionModelReset:function(e){let o="";switch(e){case"Create":o="Create";break;case"Change":o="Change";break;default:break}var i={RequestId:"",RequestType:o,WorkflowInstanceId:"",GLCollection:[]};this.getView().setModel(new t(i),"glModel");this.getView().getModel("glModel").refresh(true)},getGLObject:function(){return{GLAccount:"",CompanyCode:"",GLAccountType:"",AccountGroup:"",ShortText:"",LongText:"",AccountCurrency:"",LocalCurrencyOnly:false,TaxCategory:"",PostingWithoutTax:false,ReconciliationAccount:false,OpenItemManagement:false,SortKey:"",FieldStatusGroup:"",PostAutomatically:false,CashFlowRelevant:false,HouseBank:"",AccountID:""}},createGLRequestModel:function(e,o){let i=this.getGLObject(o);let a=new t(i);e.setModel(a,"GLRequestModel")},createServiceMessageModel:function(e){let o=new t({messagesLength:0,messages:[]});e.setModel(o,"ServiceMessageModel")},onSelectionChange:function(e){let t=false;let o=this.byId("srvTable").getSelectedItem();if(o){t=true}this.byId("btndele").setEnabled(t);this.byId("btnedit").setEnabled(t)},deleteObj:function(){var e=this.byId("srvTable").getSelectedItem();if(e){var t=this.getView().getModel("serviceModel");var o=t.getData();var a=this.byId("srvTable");var s=this;i.show(this._oBundle.getText("del_confirm"),{icon:i.Icon.INFORMATION,title:this._oBundle.getText("del_confirm_title"),actions:[i.Action.YES,i.Action.NO],emphasizedAction:i.Action.YES,onClose:function(o){if(o=="YES"){let o=e.getBindingContext("serviceModel").getPath();let i=o.replace("/ServiceCollection/","");t.getProperty("/ServiceCollection").splice(i,1);t.refresh(true);a.removeSelections(true);s.byId("btndele").setEnabled(false);s.byId("btnedit").setEnabled(false)}}})}else{i.information("Please select the record !")}},onAddNew:function(){this._mode="A";this.getView().setModel(new t(this.getGLObject()),"GLRequestModel");this.openGLDialog("Add")},editObj:function(){let e=this.byId("srvTable").getSelectedItem();if(!e){i.information("Please select a record");return}this._mode="E";this._editPath=e.getBindingContext("glModel").getPath();let o=JSON.parse(JSON.stringify(e.getBindingContext("glModel").getObject()));this.getView().setModel(new t(o),"GLRequestModel");this.openGLDialog("Edit")},displayDialog:function(e){let t=e+" General Ledger Details";var o=this.byId("srvTable").getSelectedItem();if(e==="View"||e==="Edit"){if(o){var a=o.getBindingContext("serviceModel");this._editServicePath=a.getPath();let e=JSON.parse(JSON.stringify(a.getObject()));this.getView().getModel("GLRequestModel").setData(e);this.getView().getModel("GLRequestModel").refresh(true)}else{i.information("Please select the record !");this.getOwnerComponent().busyDialog.close();return}}if(!this._ServiceObject){this._ServiceObject=this.loadFragment({name:"glmaster.fragments.Gldialog"})}this._ServiceObject.then(o=>{this.getView().addDependent(o);this.createServiceMessageModel(this.getView());this.updateGLUIFields(e);o.setTitle(t);o.open();this.getOwnerComponent().busyDialog.close()})},openGLDialog:function(e){if(!this._oGLDialog){this._oGLDialog=s.load({name:"glmaster.fragments.Gldialog",controller:this})}this._oGLDialog.then(t=>{this.getView().addDependent(t);t.setTitle(e+" GL Account");t.open()})},updateGLUIFields:function(e){let t=this.getView().getModel("glModel").getProperty("/RequestType");let o=false;let i=false;if(e==="Add"||e==="Edit"){o=true;i=true}this.byId("inpGLAccount")?.setEditable(o);this.byId("inpCompanyCode")?.setEditable(o);this.byId("inpGLType")?.setEditable(o);this.byId("inpAccGroup")?.setEditable(o);this.byId("inpShortText")?.setEditable(o);this.byId("txtLongText")?.setEditable(o);this.byId("inpCurrency")?.setEditable(o);this.byId("chkLocalCurrencyOnly")?.setEnabled(o);this.byId("inpTaxCategory")?.setEditable(o);this.byId("chkPostingWithoutTax")?.setEnabled(o);this.byId("chkReconciliation")?.setEnabled(o);this.byId("chkOpenItem")?.setEnabled(o);this.byId("inpSortKey")?.setEditable(o);this.byId("inpFieldStatus")?.setEditable(o);this.byId("chkPostAutomatically")?.setEnabled(o);this.byId("chkCashFlow")?.setEnabled(o);this.byId("inpHouseBank")?.setEditable(o);this.byId("inpAccountId")?.setEditable(o)},cancelService:function(){this._oGLDialog.then(e=>e.close())},validateInputSuggestionField:function(e,t,o,i){let a={},s=o?.data("i18nFieldKey"),n=o?.getRequired();if(o)if(o.getValue()===""&&i===""&&n===true){a.type="Error";a.title=this._oBundle.getText("field_mandt",[this._oBundle.getText(s)]);a.description=this._oBundle.getText("field_mandt_desc",[this._oBundle.getText(s),this._oBundle.getText(t)]);o.setValueState("Error");o.setValueStateText(a.title);e.messages.push(a)}else if(o.getValue()!==""&&i===""){a.type="Error";a.title=this._oBundle.getText("field_invalid",[this._oBundle.getText(s)]);a.description=this._oBundle.getText("field_invalid_desc",[this._oBundle.getText(s),this._oBundle.getText(t)]);o.setValueState("Error");o.setValueStateText(a.title);e.messages.push(a)}else{o.setValueState("None");o.setValueStateText()}return e},validateGLFrag:function(){let e={messages:[]};let t=this.getView().getModel("GLRequestModel");const o=[{id:"inpGLAccount",path:"/GLAccount",section:"Initial"},{id:"inpCompanyCode",path:"/CompanyCode",section:"Initial"},{id:"inpGLType",path:"/GLAccountType",section:"Type / Description"},{id:"inpAccGroup",path:"/AccountGroup",section:"Type / Description"}];o.forEach(o=>{let i=this.byId(o.id);let a=t.getProperty(o.path);this.validateInputSuggestionField(e,o.section,i,a)});this.getView().getModel("GLMessageModel").setData(e);if(e.messages.length>0){this.byId("bMsgRecEditService").setType("Reject");return false}return true},submitsrv:function(){if(!this.validateGLFrag())return;let e=this.getView().getModel("glModel");let t=e.getProperty("/GLCollection");let o=JSON.parse(JSON.stringify(this.getView().getModel("GLRequestModel").getData()));if(this._mode==="A"){t.push(o)}else{Object.assign(e.getProperty(this._editPath),o)}e.refresh(true);this.cancelService()},createWFModel:function(){this.getView().setModel(new t({initialContext:JSON.stringify({someProperty:"some value"},null,4),apiResponse:""}),"workflowModel")},onCommentPost:function(e){var t=o.getDateTimeInstance({style:"medium"});var i=this.getView().getModel("commentModel");var a=new Date;var s=t.format(a);var n=e.getParameter("value");var r=i.getData();var l={UserName:this.getOwnerComponent().currentUser,Date:""+s,Text:n};r.unshift(l);i.setData(r)},getComments:function(){let e=this.getView().getModel("commentModel").getData();if(e.length<=0){return a.show("Comments are mandatory!")}const t=this.getOwnerComponent().currentUser||"defaultUser";let o=[];e.forEach(e=>{o.push({Comment:e.Text,UserName:t})});return o},generateRequestId:async function(){try{if(!this._oBusyDialog){this._oBusyDialog=new sap.m.BusyDialog({text:"Creating request..."})}this._oBusyDialog.open();const e=this.getView().getModel("glModel").getProperty("/GLCollection");if(!e||e.length===0){this._oBusyDialog.close();i.information("Please add at least one GL record");return}const t=await this.postData();if(!t){throw new Error("Request ID not generated")}this._oBusyDialog.setText("Starting workflow...");let o=await this.startWorkflowInstance(t);if(!o)throw new Error("Failed to initiate workflow.");this._oBusyDialog.setText("Updating workflow header...");let a=this.getView().getModel("workflowModel").getData();let s=a.apiResponse.id;await this.updateWorkflowHeader(t,s);this._oBusyDialog.close();this.showSuccessMessage(t)}catch(e){if(this._oBusyDialog){this._oBusyDialog.close()}i.error(e.message||"An error occurred during the process.");console.error("Error:",e)}},PayloadData:function(){const e=this.getView().getModel("glModel");const t=e.getProperty("/GLCollection");const o={workflowStatus:"In Approval",type:this.getView().getModel("glModel").getProperty("/RequestType"),glMasterItems:[]};t.forEach(e=>{if(!e.GLAccount||!e.CompanyCode){throw new Error("GL Account and Company Code are mandatory")}o.glMasterItems.push({GLAccount:e.GLAccount,CompanyCode:e.CompanyCode,GLAccountType:e.GLAccountType,AccountGroup:e.AccountGroup,ShortText:e.ShortText,GLAccountLongText:e.GLAccountLongText,AccountCurrency:e.AccountCurrency,LocalCurrencyOnly:!!e.LocalCurrencyOnly,PostingWithoutTax:!!e.PostingWithoutTax,ReconciliationAccount:e.ReconciliationAccount,OpenItemManagement:!!e.OpenItemManagement,SortKey:e.SortKey,FieldStatusGroup:e.FieldStatusGroup,PostAutomatically:!!e.PostAutomatically,CashFlowRelevant:!!e.CashFlowRelevant,HouseBank:e.HouseBank,AccountID:e.AccountID})});return o},postData:function(){let e=this;return new Promise((t,o)=>{let i=e.PayloadData();let a=e.getView().getModel("mainServiceModel");a.create("/GlMasterRequests",i,{success:function(e){t(e.requestId)},error:function(e){o(e)}})})},startWorkflowInstance:function(e){return new Promise((t,o)=>{let i="eu10.btp-innovation-lab-s64t0r2h.glworfklow.gLProcess";let a=this.getView().getModel("commentModel");let s=a.getData();let n={reqid:e,Type:"Create",Comment:s};let r=this.getBaseURL()+"/workflow-instances?environmentId=dataguardian";$.ajax({url:r,method:"POST",contentType:"application/json",headers:{"X-CSRF-Token":this.tokenRefresh()},data:JSON.stringify({definitionId:i,context:n}),success:function(e){let o=this.getView().getModel("workflowModel");o.setData({apiResponse:e});t(true)}.bind(this),error:function(e){o(e)}})})},updateWorkflowHeader:function(e,t){return new Promise((o,i)=>{let a={};a.workflowInstanceId=t;let s=this.getView().getModel("mainServiceModel");s.update(`/GlMasterRequests('${e}')`,a,{success:function(){o()},error:function(e){i(e)}})})},getBaseURL:function(){let e=this.getOwnerComponent().getManifestEntry("/sap.app/id");let t=e.replaceAll(".","/");return jQuery.sap.getModulePath(t)+"/bpmworkflowruntime/v1"},tokenRefresh:function(){let e;let t=this.getBaseURL()+"/xsrf-token";$.ajax({url:t,method:"GET",async:false,headers:{"X-CSRF-Token":"Fetch"},success:function(t,o,i){e=i.getResponseHeader("X-CSRF-Token")},error:function(){console.error("Failed to fetch CSRF token.")}});return e},showSuccessMessage:function(e){var t=this;i.success("Workflow initiated successfully for Request ID: "+e,{onClose:function(){var e=t.getView();var o=e.byId("fIC");if(o){o.setValue("")}var i=e.byId("flist");if(i){var a=i.getModel("commentModel");if(a){a.setData([]);a.updateBindings(true)}}var s=e.byId("srvTable");if(s){var n=s.getModel("glModel");if(n){n.setData({GLCollection:[]});n.updateBindings(true)}}var r=t.getOwnerComponent().getRouter();r.navTo("RouteOverview")}})},getF4Data:function(e,t,o){return new Promise((i,a)=>{e.read(t,{filters:o,success:e=>i(e),error:e=>a(e)})})},openF4Dialog:function(e,t,o){this.inputId=o;if(!this.F4Dialog){s.load({id:this.getView().getId(),name:"com.mdg.service.servicemaster.fragments.F4Dialog"}).then(o=>{this.F4Dialog=o;let i=this.getView();i.addDependent(o);const a=new sap.ui.model.json.JSONModel(t);i.setModel(a,"F4Model");o.setTitle(e);o.attachSearch(this._handleValueHelpSearch,this);o.attachLiveChange(this._handleValueHelpSearch,this);o.attachConfirm(this._handleValueHelpClose,this);o.attachCancel(this._handleValueHelpClose,this);o.open()}).catch(e=>{i.error("Failed to load F4 dialog: "+e.message)})}else{const o=new sap.ui.model.json.JSONModel(t);this.getView().setModel(o,"F4Model");this.F4Dialog.setTitle(e);this.F4Dialog.attachSearch(this._handleValueHelpSearch,this);this.F4Dialog.attachLiveChange(this._handleValueHelpSearch,this);this.F4Dialog.attachConfirm(this._handleValueHelpClose,this);this.F4Dialog.attachCancel(this._handleValueHelpClose,this);this.F4Dialog.open()}},_handleValueHelpSearch:function(e){var t=e.getParameter("value");var o=new sap.ui.model.Filter({filters:[new sap.ui.model.Filter("title",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("description",sap.ui.model.FilterOperator.Contains,t)],and:false});var i=e.getSource().getBinding("items");i.filter(o)},_handleValueHelpClose:function(e){let t=e.getParameter("selectedItem");if(!t){return}let o=this.getView().byId(this.inputId);if(o){o.setValue(t.getTitle())}},onValueHelpRequestUOM:function(e){let t=this.getOwnerComponent().getModel("masterServiceModel"),o="/ZI_BASEUOM",a=[new sap.ui.model.Filter("language",sap.ui.model.FilterOperator.EQ,"EN")];this.getF4Data(t,o,a).then(t=>{let o=[];t?.results.forEach(e=>{o.push({title:e.weightUnit,description:e.weightUnitText})});this.openF4Dialog("Unit Of Measure",o,e.getSource().getId())}).catch(e=>{i.error("Failed to load data for Unit Of Measure: "+e.message)})},onValueHelpRequestMatGrp:function(e){let t=this.getOwnerComponent().getModel("masterServiceModel"),o="/I_MaterialGroup";this.getF4Data(t,o).then(t=>{let o=[];t?.results.forEach(e=>{o.push({title:e.MaterialGroup,description:e.MaterialGroup_Text})});this.openF4Dialog("Material Group",o,e.getSource().getId())}).catch(e=>{i.error("Failed to load data for Material Group: "+e.message)})},onValueHelpRequestDivision:function(e){let t=this.getOwnerComponent().getModel("masterServiceModel"),o="/ZI_DIVISION",a=[new sap.ui.model.Filter("LANGUAGE",sap.ui.model.FilterOperator.EQ,"EN")];this.getF4Data(t,o,a).then(t=>{let o=[];t?.results.forEach(e=>{o.push({title:e.DIVISION,description:e.NAME})});this.openF4Dialog("Division",o,e.getSource().getId())}).catch(e=>{i.error("Failed to load data for Division: "+e.message)})},onValueHelpRequestValClass:function(e){let t=this.getOwnerComponent().getModel("masterServiceModel"),o="/I_Prodvaluationclasstxt",a=[new sap.ui.model.Filter("Language",sap.ui.model.FilterOperator.EQ,"EN")];this.getF4Data(t,o,a).then(t=>{let o=[];t?.results.forEach(e=>{o.push({title:e.ValuationClass,description:e.ValuationClassDescription})});this.openF4Dialog("Valuation Class",o,e.getSource().getId())}).catch(e=>{i.error("Failed to load data for Valuation Class: "+e.message)})},onValueHelpRequestFormula:function(e){let t=this.getOwnerComponent().getModel("masterServiceModel"),o="/ZI_FORMULANO",a=[new sap.ui.model.Filter("LANGUAGE",sap.ui.model.FilterOperator.EQ,"EN")];this.getF4Data(t,o,a).then(t=>{let o=[];t?.results.forEach(e=>{o.push({title:e.FormulaNumber,description:e.DESCRIPTION})});this.openF4Dialog("Formula",o,e.getSource().getId())}).catch(e=>{i.error("Failed to load data for Formula: "+e.message)})},onValueHelpRequestTaxTraiffCode:function(e){let t=this.getOwnerComponent().getModel("masterServiceModel"),o="/I_AE_CNSMPNTAXCTRLCODETXT",a=[new sap.ui.model.Filter("Language",sap.ui.model.FilterOperator.EQ,"EN")];this.getF4Data(t,o,a).then(t=>{let o=[];t?.results.forEach(e=>{o.push({title:e.ConsumptionTaxCtrlCode,description:e.ConsumptionTaxCtrlCodeText1,info:e.CountryCode})});this.openF4Dialog("Tax Traiff Code",o,e.getSource().getId())}).catch(e=>{i.error("Failed to load data for Tax Traiff Code: "+e.message)})},onValueHelpRequestHierarchyServiceNumber:function(e){let t=this.getOwnerComponent().getModel("masterServiceModel"),o="/ZI_HIERSERVNO";this.getF4Data(t,o).then(t=>{let o=[];t?.results.forEach(e=>{o.push({title:e.SERVNO,description:e.HIERARCHYSRVNO})});this.openF4Dialog("Hierarchy Service Number",o,e.getSource().getId())}).catch(e=>{i.error("Failed to load data for Hierarchy Service Number: "+e.message)})},onValueHelpRequestEANcat:function(e){let t=this.getOwnerComponent().getModel("masterServiceModel"),o="/ZI_EANCATEGORY",a=[new sap.ui.model.Filter("LANGUAGE",sap.ui.model.FilterOperator.EQ,"EN")];this.getF4Data(t,o,a).then(t=>{let o=[];t?.results.forEach(e=>{o.push({title:e.EAN,description:e.DESCRIPTION})});this.openF4Dialog("Ean Category",o,e.getSource().getId())}).catch(e=>{i.error("Failed to load data for Ean Category: "+e.message)})},onValueHelpRequestCoastingModel:function(e){let t=this.getOwnerComponent().getModel("masterServiceModel"),o="/ZI_COSTMODEL",a=[new sap.ui.model.Filter("LANGUAGE",sap.ui.model.FilterOperator.EQ,"EN")];this.getF4Data(t,o,a).then(t=>{let o=[];t?.results.forEach(e=>{o.push({title:e.COSTMODEL,description:e.DESCRIPTION,info:e.SEQNO})});this.openF4Dialog("Costing Model",o,e.getSource().getId())}).catch(e=>{i.error("Failed to load data for Costing Model: "+e.message)})},onValueHelpRequestServiceCategory:function(e){var t=this.getOwnerComponent().getModel("masterServiceModel");var o="/ZI_SERVCAT";var a=[new sap.ui.model.Filter("LANGUAGE",sap.ui.model.FilterOperator.EQ,"EN")];return this.getF4Data(t,o,a).then(function(t){var o=[];(t.results||[]).forEach(function(e){o.push({ServiceType:e.SERVICECATEGORY,ServiceTypeName:e.DESCRIPTION,title:e.SERVICECATEGORY,description:e.DESCRIPTION})});if(e){this.openF4Dialog("Service Category",o,e.getSource().getId())}return o}.bind(this)).catch(function(e){i.error("Failed to load data for Service Type");return[]})},onCopySrv:async function(){if(!this.CopyPopup){const e=await s.load({id:this.getView().getId(),name:"com.mdg.service.servicemaster.fragments.srvRequest",controller:this});this.getView().addDependent(e);this.CopyPopup=e}this.CopyPopup.open()},onServiceSearch:function(e){var t=e.getParameter("value");var o=e.getSource();var i=o.getBinding("items");if(!i){return}if(!t){i.filter([]);return}var a=[];a.push(new sap.ui.model.Filter("PoServiceNumber",sap.ui.model.FilterOperator.Contains,t));a.push(new sap.ui.model.Filter("POServiceDesc",sap.ui.model.FilterOperator.Contains,t));var s=new sap.ui.model.Filter({filters:a,and:false});i.filter([s])},onServiceClose:function(e){var t=e.getParameter("selectedItem");if(!t){return}var o=t.getBindingContext("masterServiceModel").getProperty("PoServiceNumber");o=o.replace(/\D/g,"").padStart(18,"0");this.updateServiceRequestModel(o)},onServiceCancel:function(){if(this.CopyPopup){this.CopyPopup.close()}},updateServiceRequestModel:function(e){var t=this.getView();var o=this;o.onOpenBusyDialog();var a=this.getOwnerComponent().getModel("masterServiceModel");var s=[new sap.ui.model.Filter("SERVICENUMBER",sap.ui.model.FilterOperator.EQ,e)];a.read("/ETY_GETDETAILSSet",{filters:s,success:function(e){if(!e.results||e.results.length===0){o.onCloseBusyDialog();return}var i=o.getChangeExtendServiceRequestObject(t,e);o.updateModel(t,i);o.ServiceModelData=JSON.parse(JSON.stringify(t.getModel("serviceModel").getData()));o.onCloseBusyDialog()},error:function(){o.onCloseBusyDialog();i.error("Failed to fetch service details")}})},onOpenBusyDialog:function(){if(!this._busyDialog){this._busyDialog=new sap.m.BusyDialog;this.getView().addDependent(this._busyDialog)}this._busyDialog.open()},onCloseBusyDialog:function(){if(this._busyDialog){this._busyDialog.close()}},getChangeExtendServiceRequestObject:function(e,t){var o=t.results||[];var i=[];o.forEach(function(e){var t=this.getServiceObject();t.ServiceType=e.SRVTYPE||"";t.ServiceCategory=e.SERVICECATEGORY||"";t.Division=e.DIVISION||"";t.ServiceGroup=e.MATERIALGROUP||"";t.HierarchyServiceNumber=e.HIERARCHYSRV||"";t.BaseUnitOfMeasure=e.BASEUOM||"";t.UnitOfWork=e.WORKUOM||"";t.LongText=e.SHORTTEXT||"";t.ServiceDescriptions=[{ActivityNumber:(e.SERVICENUMBER||"").replace(/^0+(?!$)/,""),Description:e.SHORTTEXT||""}];t.UPC=e.EANUPC||"";t.EANCategory=e.EANCAT||"";t.ValuationClass=e.VALUATIONCLASS||"";t.TaxIndicator=e.TAXIND||"";t.TaxTraiffCode=e.TAXTARIFFCODE||"";t.Formula=e.FORMULA||"";t.Numberator=e.CONVNUM||"";t.Denominator=e.CONVDEN||"";t.Wagetype=e.WAGETYPE||"";t.PurchasingStatus=e.PURCHSTATUS||"";t.ValidityDate=e.VALIDFROM||"";t.Edition=e.EDITION||"";t.SSC=e.SSCITEM||"";t.SubContractorGroup=e.AUTHGROUP||"";i.push(t)}.bind(this));return i},updateModel:function(e,t){var o=e.getModel("serviceModel");var i=o.getProperty("/ServiceCollection")||[];o.setProperty("/ServiceCollection",i.concat(t));o.refresh(true)}})});
//# sourceMappingURL=Create.controller.js.map